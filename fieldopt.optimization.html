<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fieldopt.optimization package &mdash; FieldOpt  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> FieldOpt
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">fieldopt.optimization package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-fieldopt.optimization.base">fieldopt.optimization.base module</a></li>
<li><a class="reference internal" href="#module-fieldopt.optimization.bayes_moe">fieldopt.optimization.bayes_moe module</a></li>
<li><a class="reference internal" href="#module-fieldopt.optimization.grid">fieldopt.optimization.grid module</a></li>
<li><a class="reference internal" href="#module-fieldopt.optimization">Module contents</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FieldOpt</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>fieldopt.optimization package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/fieldopt.optimization.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fieldopt-optimization-package">
<h1>fieldopt.optimization package<a class="headerlink" href="#fieldopt-optimization-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-fieldopt.optimization.base">
<span id="fieldopt-optimization-base-module"></span><h2>fieldopt.optimization.base module<a class="headerlink" href="#module-fieldopt.optimization.base" title="Permalink to this headline"></a></h2>
<p>Base classes for Fieldopt optimizers</p>
<dl class="py class">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fieldopt.optimization.base.</span></span><span class="sig-name descname"><span class="pre">IterableOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objective_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>ABC for implementing basic iterable optimizers</p>
<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.current_best">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_best</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer.current_best"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.current_best" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.evaluate_objective">
<span class="sig-name descname"><span class="pre">evaluate_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling_points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer.evaluate_objective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.evaluate_objective" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates the objective function at <cite>sampling_points</cite></p>
<p>The objective function is expected to return an iterable
of the results with ordering matching the input sampling
points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sampling_points</strong> (<em>ndarray</em>) – (N,P) points to sample
objective function at</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>obj</strong> (<em>ndarray</em>) – (N,) Objective vector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.get_history">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer.get_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.get_history" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.iter">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.iter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">print_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/base.html#IterableOptimizer.optimize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.optimize" title="Permalink to this definition"></a></dt>
<dd><p>End-to-end optimization of an objective function</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>history list</strong> (<em>dict</em>) – Optimization historical data</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.base.IterableOptimizer.sign">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sign</span></span><a class="headerlink" href="#fieldopt.optimization.base.IterableOptimizer.sign" title="Permalink to this definition"></a></dt>
<dd><p>Sign of objective function</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>sign</strong> (<em>float</em>) – -1 if maximization problem, 1 if minimization</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-fieldopt.optimization.bayes_moe">
<span id="fieldopt-optimization-bayes-moe-module"></span><h2>fieldopt.optimization.bayes_moe module<a class="headerlink" href="#module-fieldopt.optimization.bayes_moe" title="Permalink to this headline"></a></h2>
<p>Bayesian optimizer</p>
<dl class="py class">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fieldopt.optimization.bayes_moe.</span></span><span class="sig-name descname"><span class="pre">BayesianMOEOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objective_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples_per_iteration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sgd_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'gamma':</span> <span class="pre">0.7,</span> <span class="pre">'max_num_restarts':</span> <span class="pre">5,</span> <span class="pre">'max_num_steps':</span> <span class="pre">50,</span> <span class="pre">'max_relative_change':</span> <span class="pre">0.5,</span> <span class="pre">'num_multistarts':</span> <span class="pre">200,</span> <span class="pre">'num_steps_averaged':</span> <span class="pre">4,</span> <span class="pre">'pre_mult':</span> <span class="pre">1.0,</span> <span class="pre">'tolerance':</span> <span class="pre">1e-10}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fieldopt.optimization.base.IterableOptimizer" title="fieldopt.optimization.base.IterableOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">fieldopt.optimization.base.IterableOptimizer</span></code></a></p>
<p>Initialize default parameters for running a Bayesian optimization
algorithm on an objective function with parameters.</p>
<p>Initializes a squared exponential covariance prior using a
- tophat prior on the lengthscale
- lognormal prior on the covariance amplitude</p>
<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.converged">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">converged</span></span><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.converged" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates whether Bayesian optimization has converged.
Examines whether the standard deviation of the history of length
<cite>self.min_samples</cite> is below <cite>self.epsilon</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>converged</strong> (<em>bool</em>) – False if stop criterion has not been met,</p></li>
<li><p><strong>else True</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.current_best">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_best</span></span><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.current_best" title="Permalink to this definition"></a></dt>
<dd><p>Get current estimate of optimal value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>best_coord</strong> (<em>ndarray</em>) – (P,) best input coordinate</p></li>
<li><p><strong>best_value</strong> (<em>float</em>) – Objective function evaluated at <cite>best_coord</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.get_history">
<span class="sig-name descname"><span class="pre">get_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer.get_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.get_history" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve current optimization history</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>history</strong> (<em>ndarray</em>) – [N, (<a href="#id1"><span class="problematic" id="id2">*</span></a>inputs, value)] array, where
N is the number of points that have been sampled</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.gp">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gp</span></span><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.gp" title="Permalink to this definition"></a></dt>
<dd><p>Gaussian process model from the current ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gp</strong> (<em>GaussianProcessLogLikelihoodMCMC</em>) – <span class="math notranslate nohighlight">\(GP\)</span> model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.initialize_model">
<span class="sig-name descname"><span class="pre">initialize_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer.initialize_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.initialize_model" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the GaussianProcessLogLikelihood model using
an initial set of observations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init_pts</strong> (<em>ndarray</em>) – (N,P) Initial sampling points</p></li>
<li><p><strong>res</strong> (<em>ndarray</em>) – (N,) Objective function evaluations of <cite>init_pts</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">print_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.iter" title="Permalink to this definition"></a></dt>
<dd><p>Generator for end-to-end optimization</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>iter_result (dict)</em> – Iteration tracking information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.propose_sampling_points">
<span class="sig-name descname"><span class="pre">propose_sampling_points</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer.propose_sampling_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.propose_sampling_points" title="Permalink to this definition"></a></dt>
<dd><p>Performs stochastic gradient descent to optimize qEI function
returning a list of optimal candidate points for the current
set of ensemble models</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<em>ndarray</em>) – (N,P) Set of q-EI optimal samples to evaluate</p></li>
<li><p><strong>ei</strong> (<em>float</em>) – q-Expected improvement</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#BayesianMOEOptimizer.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.BayesianMOEOptimizer.step" title="Permalink to this definition"></a></dt>
<dd><p>Performs one iteration of Bayesian optimization:
1. get sampling points via maximizing qEI
2. Evaluate objective function at proposed sampling points
3. Update ensemble of Gaussian process models
4. Store current best in the history of best points
5. Increment iteration counter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampling_points</strong> (<em>ndarray</em>) – Points sampled</p></li>
<li><p><strong>res</strong> (<em>ndarray</em>) – Objective function evaluations at <cite>sampling_points</cite></p></li>
<li><p><strong>qEI</strong> (<em>float</em>) – q-Expected Improvement of <cite>sampling_points</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fieldopt.optimization.bayes_moe.get_default_tms_optimizer">
<span class="sig-prename descclassname"><span class="pre">fieldopt.optimization.bayes_moe.</span></span><span class="sig-name descname"><span class="pre">get_default_tms_optimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/bayes_moe.html#get_default_tms_optimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.bayes_moe.get_default_tms_optimizer" title="Permalink to this definition"></a></dt>
<dd><p>Construct BayesianMOEOptimizer using pre-configured
prior hyperparameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<a class="reference internal" href="fieldopt.html#fieldopt.objective.FieldFunc" title="fieldopt.objective.FieldFunc"><em>fieldopt.objective.FieldFunc</em></a>) – FieldFunc objective function</p></li>
<li><p><strong>num_samples</strong> (<em>int</em>) – Number of samples to evaluate in parallel</p></li>
<li><p><strong>minimum_samples</strong> (<em>int</em>) – Minimum number of samples to evaluate before
performing convergence checks</p></li>
<li><p><strong>max_iterations</strong> (<em>int</em>) – Maximum number of iterations before cutting
off optimization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>optimizer</strong> (<em>fieldopt.optimization.bayes_moe.BayesianMOEOptimizer</em>) – Configured optimizer</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Optimizer is initialized with a squared exponential
covariance function with the following priors:</p>
<blockquote>
<div><ul class="simple">
<li><p>Length scale with a TopHat(-2, 5)</p></li>
<li><p>Log-normal covariance amplitude Ln(Normal(12.5, 1.6))</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

</section>
<section id="module-fieldopt.optimization.grid">
<span id="fieldopt-optimization-grid-module"></span><h2>fieldopt.optimization.grid module<a class="headerlink" href="#module-fieldopt.optimization.grid" title="Permalink to this headline"></a></h2>
<p>Grid Optimizer</p>
<dl class="py class">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fieldopt.optimization.grid.</span></span><span class="sig-name descname"><span class="pre">GridOptimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objective_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/grid.html#GridOptimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fieldopt.optimization.base.IterableOptimizer" title="fieldopt.optimization.base.IterableOptimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">fieldopt.optimization.base.IterableOptimizer</span></code></a></p>
<p>General GridOptimizer for an objective function</p>
<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer.completed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">completed</span></span><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer.completed" title="Permalink to this definition"></a></dt>
<dd><p>Indicate whether all sample points have been evaluated</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>completed</strong> (<em>bool</em>) – Whether optimization is complete</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer.current_best">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_best</span></span><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer.current_best" title="Permalink to this definition"></a></dt>
<dd><p>Get current estimate of optimal value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>best_coord</strong> (<em>ndarray</em>) – (P,) best input coordinate</p></li>
<li><p><strong>best_value</strong> (<em>float</em>) – Objective function evaluated at <cite>best_coord</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer.get_history">
<span class="sig-name descname"><span class="pre">get_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/grid.html#GridOptimizer.get_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer.get_history" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve current optimization history</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>history</strong> (<em>ndarray</em>) – [N, (<a href="#id3"><span class="problematic" id="id4">*</span></a>inputs, value)] array, where
N is the number of points that have been sampled</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer.iter">
<span class="sig-name descname"><span class="pre">iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">print_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/grid.html#GridOptimizer.iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer.iter" title="Permalink to this definition"></a></dt>
<dd><p>Generator for end-to-end optimization</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>iter_result (dict)</em> – Iteration tracking information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.GridOptimizer.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/grid.html#GridOptimizer.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.grid.GridOptimizer.step" title="Permalink to this definition"></a></dt>
<dd><p>Perform one iteration of grid optimization using
up to self.batchsize evaluations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampling_points</strong> (<em>ndarray</em>) – Points sampled</p></li>
<li><p><strong>res</strong> (<em>ndarray</em>) – Objective function evaluations at <cite>sampling_points</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fieldopt.optimization.grid.get_default_tms_optimizer">
<span class="sig-prename descclassname"><span class="pre">fieldopt.optimization.grid.</span></span><span class="sig-name descname"><span class="pre">get_default_tms_optimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locdim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotdim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fieldopt/optimization/grid.html#get_default_tms_optimizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fieldopt.optimization.grid.get_default_tms_optimizer" title="Permalink to this definition"></a></dt>
<dd><p>Construct GridOptimizer for FEM evaluation. The number
of evaluations per iteration will be set to f.cpus//2 - 1
so that SimNIBS doesn’t hang when cgroup restrictions are
placed on CPU resources</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<a class="reference internal" href="fieldopt.html#fieldopt.objective.FieldFunc" title="fieldopt.objective.FieldFunc"><em>fieldopt.objective.FieldFunc</em></a>) – FieldFunc objective function</p></li>
<li><p><strong>locdim</strong> (<em>int</em>) – Number of spatial positions to evaluate along
the <span class="math notranslate nohighlight">\((x,y)\)</span> dimension. The total number of spatial
positions sampled will be <cite>locdim * locdim</cite></p></li>
<li><p><strong>rotdim</strong> (<em>int</em>) – Number of orientations to sample.
The range of orientations sampled will be constrained to [0, 180]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>optimizer</strong> (<em>fieldopt.optimization.grid.GridOptimizer</em>) – Configured optimizer</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fieldopt.optimization">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fieldopt.optimization" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Jerrold Jeyachandra.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>